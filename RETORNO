{contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'eb585127-8db7-4694-810c-dde1d3f53250', contactName: 'Willian Sbicigo', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'a6fb4d47-a54e-4d77-a8b7-aecd26b27667', contactName: 'Samara', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '64293e7a-1b7c-4b25-afd5-0a9afb5edb11', contactName: 'Breno Gostosao', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'cd6e6e73-8860-42ca-9674-67ce5bd2bd2b', contactName: 'Robinson', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '45d1c7fb-d56a-468d-afe0-103cf348079c', contactName: 'Marcello ', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'b6228936-2e70-43e2-a298-b6d02c809af0', contactName: 'Victor Souza', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '8ff2e8f0-ace3-4d89-a6f2-ecaf51bdf366', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'dbb3bc0e-c7d5-48ba-aaeb-94d82763f9f3', contactName: 'Edson Leite', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '08a2ff12-91b5-4cc3-8cbd-92d341906072', contactName: 'Inácio Jr Rua', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '83d00779-967f-4b7b-b509-a396d1df4d4d', contactName: 'Hugo Vargas', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '86eef29f-ec0a-40c2-93dd-470f5d340e05', contactName: 'M', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '91c6b97c-7408-42dd-b34d-bd76cb2be7ca', contactName: 'Jesus Te Amor', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '3d13564b-5e43-4bfa-b964-bb21b3cc0f5a', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '155fea97-bffb-4273-ba61-c7708ab6c382', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '469f6a1b-16c0-4b49-ad23-b58f5bae32d8', contactName: 'Jossolange Araújo', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'd534d414-7149-4d4a-a672-c1e79144da67', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '02852e75-6989-45df-bdac-60d5dd0f9221', contactName: 'Henrique', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'c257a812-7a12-4c45-9105-02795d4c44ec', contactName: '꧁ঔৣ☬✞ Jô Lopes  ✞☬ঔৣ꧂', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '1d92d14b-712a-4722-8a8d-7c7fe4bbfa01', contactName: 'Atemilsom', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: undefined}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: false, contactId: undefined, hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: undefined, contactName: undefined, enabled: false}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 0, hasSelectedContact: false, instanceHealthScore: 50}
StageSelector.tsx:39 [StageSelector] 🔍 Props recebidas: {leadId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', currentStageId: 'f99a613b-805a-489a-95d4-ce9dd916f76c', hasCurrentStage: true, currentStageTitle: 'Em Cálculo', currentStageColor: '#10b981', …}
StageSelector.tsx:39 [StageSelector] 🔍 Props recebidas: {leadId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', currentStageId: 'f99a613b-805a-489a-95d4-ce9dd916f76c', hasCurrentStage: true, currentStageTitle: 'Em atendimento', currentStageColor: '#8b5cf6', …}
WhatsAppMessagesList.tsx:54 [WhatsApp MessagesList] 📋 Renderizando lista: {total: 0, isLoading: true, isLoadingMore: false, hasMoreMessages: false}
logger.ts:53 [Realtime] 🧹 Limpando listeners de tags
logger.ts:53 [Realtime] 🔄 Configurando listeners de tags para userId: 9936ae64-b78c-48fe-97e8-bf67623349c6
useLeadTags.ts:16 [useLeadTags] 🔄 Buscando tags para lead: ce9a23cb-9481-4dcd-ada6-f85c9553444f
useLeadTags.ts:16 [useLeadTags] 🔄 Buscando tags para lead: ce9a23cb-9481-4dcd-ada6-f85c9553444f
StageSelector.tsx:39 [StageSelector] 🔍 Props recebidas: {leadId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', currentStageId: 'f99a613b-805a-489a-95d4-ce9dd916f76c', hasCurrentStage: true, currentStageTitle: 'Em atendimento', currentStageColor: '#8b5cf6', …}
useMessagesRealtime.ts:189 [Messages Realtime] 🚀 Configurando real-time ISOLADO para mensagens: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null}
useMessagesRealtime.ts:189 [Messages Realtime] 🚀 Configurando real-time ISOLADO para mensagens: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null}
WhatsAppChatContainer.tsx:7 [WhatsAppChatContainer] 🏗️ Componente renderizado - usando hooks modulares unificados
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f'}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: true, contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, enabled: true}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 20, hasSelectedContact: true, instanceHealthScore: 50}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: true, contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, enabled: true}
WhatsAppChatContainer.tsx:37 [WhatsAppChatContainer] 📊 Dados do hook recebidos: {contactsCount: 20, messagesCount: 20, selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', selectedContactName: null, isLoadingContacts: false, …}
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: undefined}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: false, contactId: undefined, hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: undefined, contactName: undefined, enabled: false}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 0, hasSelectedContact: false, instanceHealthScore: 50}
WhatsAppMessagesList.tsx:54 [WhatsApp MessagesList] 📋 Renderizando lista: {total: 20, isLoading: false, isLoadingMore: false, hasMoreMessages: true}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: ed89a74c {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: 'ed89a74c', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: c2617c18 {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: 'c2617c18', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 1c74078e {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '1c74078e', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 704fd836 {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '704fd836', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 01f424d3 {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '01f424d3', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
ContactsList.tsx:60 [ContactsList] Props received: {contactsLength: 20, searchQuery: '', activeFilter: 'all', selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f'}
ContactsList.tsx:141 [ContactsList] Rendering contacts: {contactsLength: 20, searchQuery: '', activeFilter: 'all'}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'eb585127-8db7-4694-810c-dde1d3f53250', contactName: 'Willian Sbicigo', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'a6fb4d47-a54e-4d77-a8b7-aecd26b27667', contactName: 'Samara', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '64293e7a-1b7c-4b25-afd5-0a9afb5edb11', contactName: 'Breno Gostosao', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'cd6e6e73-8860-42ca-9674-67ce5bd2bd2b', contactName: 'Robinson', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '45d1c7fb-d56a-468d-afe0-103cf348079c', contactName: 'Marcello ', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'b6228936-2e70-43e2-a298-b6d02c809af0', contactName: 'Victor Souza', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '8ff2e8f0-ace3-4d89-a6f2-ecaf51bdf366', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'dbb3bc0e-c7d5-48ba-aaeb-94d82763f9f3', contactName: 'Edson Leite', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '08a2ff12-91b5-4cc3-8cbd-92d341906072', contactName: 'Inácio Jr Rua', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '83d00779-967f-4b7b-b509-a396d1df4d4d', contactName: 'Hugo Vargas', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '86eef29f-ec0a-40c2-93dd-470f5d340e05', contactName: 'M', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '91c6b97c-7408-42dd-b34d-bd76cb2be7ca', contactName: 'Jesus Te Amor', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '3d13564b-5e43-4bfa-b964-bb21b3cc0f5a', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '155fea97-bffb-4273-ba61-c7708ab6c382', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '469f6a1b-16c0-4b49-ad23-b58f5bae32d8', contactName: 'Jossolange Araújo', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'd534d414-7149-4d4a-a672-c1e79144da67', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '02852e75-6989-45df-bdac-60d5dd0f9221', contactName: 'Henrique', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'c257a812-7a12-4c45-9105-02795d4c44ec', contactName: '꧁ঔৣ☬✞ Jô Lopes  ✞☬ঔৣ꧂', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '1d92d14b-712a-4722-8a8d-7c7fe4bbfa01', contactName: 'Atemilsom', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: undefined}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: false, contactId: undefined, hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: undefined, contactName: undefined, enabled: false}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 0, hasSelectedContact: false, instanceHealthScore: 50}
StageSelector.tsx:39 [StageSelector] 🔍 Props recebidas: {leadId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', currentStageId: 'f99a613b-805a-489a-95d4-ce9dd916f76c', hasCurrentStage: true, currentStageTitle: 'Em atendimento', currentStageColor: '#8b5cf6', …}
WhatsAppMessagesList.tsx:54 [WhatsApp MessagesList] 📋 Renderizando lista: {total: 20, isLoading: false, isLoadingMore: false, hasMoreMessages: true}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: ed89a74c {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: 'ed89a74c', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: c2617c18 {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: 'c2617c18', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 1c74078e {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '1c74078e', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 704fd836 {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '704fd836', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 01f424d3 {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '01f424d3', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
2WhatsAppMessagesList.tsx:84 [WhatsApp MessagesList] ⚡ PRE-POSITIONED: Posicionando antes do paint
logger.ts:53 [Realtime] 🧹 Limpando listeners de tags
useMediaLoaderEnhanced.ts:52 [MediaLoaderEnhanced] 🔄 Carregando mídia: a46043d1 (image)
useMediaLoaderEnhanced.ts:97 [MediaLoaderEnhanced] 🔍 Buscando media_cache na base de dados: a46043d1
useMediaLoaderEnhanced.ts:52 [MediaLoaderEnhanced] 🔄 Carregando mídia: 57984ff4 (image)
useMediaLoaderEnhanced.ts:97 [MediaLoaderEnhanced] 🔍 Buscando media_cache na base de dados: 57984ff4
useMediaLoaderEnhanced.ts:52 [MediaLoaderEnhanced] 🔄 Carregando mídia: 7f7132a1 (image)
useMediaLoaderEnhanced.ts:97 [MediaLoaderEnhanced] 🔍 Buscando media_cache na base de dados: 7f7132a1
useMediaLoaderEnhanced.ts:52 [MediaLoaderEnhanced] 🔄 Carregando mídia: 1ca2531b (image)
useMediaLoaderEnhanced.ts:97 [MediaLoaderEnhanced] 🔍 Buscando media_cache na base de dados: 1ca2531b
useMediaLoaderEnhanced.ts:52 [MediaLoaderEnhanced] 🔄 Carregando mídia: 38134787 (image)
useMediaLoaderEnhanced.ts:97 [MediaLoaderEnhanced] 🔍 Buscando media_cache na base de dados: 38134787
useMediaLoaderEnhanced.ts:52 [MediaLoaderEnhanced] 🔄 Carregando mídia: 2212d622 (image)
useMediaLoaderEnhanced.ts:97 [MediaLoaderEnhanced] 🔍 Buscando media_cache na base de dados: 2212d622
useMediaLoaderEnhanced.ts:52 [MediaLoaderEnhanced] 🔄 Carregando mídia: d16f11e9 (image)
useMediaLoaderEnhanced.ts:97 [MediaLoaderEnhanced] 🔍 Buscando media_cache na base de dados: d16f11e9
useScrollDetection.ts:64 [useScrollDetection] 📄 Carregando mais mensagens (scroll manual detectado)
useScrollDetection.ts:84 [useScrollDetection] 🎯 Elemento visível encontrado: {messageId: 'ed89a74c-e047-427d-ae26-28e7c58130ca', elementTop: 0, scrollTop: 0, index: 0}
useScrollDetection.ts:98 [useScrollDetection] 🔒 Salvando âncora: {currentScrollTop: 0, currentScrollHeight: 0, anchorElement: 'ed89a74c-e047-427d-ae26-28e7c58130ca', anchorOffset: 0, totalMessages: 20}
useWhatsAppMessagesManager.ts:497 [WhatsApp Messages Manager] 📄 Carregando mensagens mais antigas
useWhatsAppMessagesManager.ts:85 [WhatsApp Messages Manager] 💬 Carregando mensagens: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', instanceId: 'e5a73878-09f5-40ed-b908-f4ffb44e1a58', page: 1}
logger.ts:53 [Realtime] 🔄 Configurando listeners de tags para userId: 9936ae64-b78c-48fe-97e8-bf67623349c6
useMediaLoaderEnhanced.ts:52 [MediaLoaderEnhanced] 🔄 Carregando mídia: a46043d1 (image)
useMediaLoaderEnhanced.ts:97 [MediaLoaderEnhanced] 🔍 Buscando media_cache na base de dados: a46043d1
useMediaLoaderEnhanced.ts:52 [MediaLoaderEnhanced] 🔄 Carregando mídia: 57984ff4 (image)
useMediaLoaderEnhanced.ts:97 [MediaLoaderEnhanced] 🔍 Buscando media_cache na base de dados: 57984ff4
useMediaLoaderEnhanced.ts:52 [MediaLoaderEnhanced] 🔄 Carregando mídia: 7f7132a1 (image)
useMediaLoaderEnhanced.ts:97 [MediaLoaderEnhanced] 🔍 Buscando media_cache na base de dados: 7f7132a1
useMediaLoaderEnhanced.ts:52 [MediaLoaderEnhanced] 🔄 Carregando mídia: 1ca2531b (image)
useMediaLoaderEnhanced.ts:97 [MediaLoaderEnhanced] 🔍 Buscando media_cache na base de dados: 1ca2531b
useMediaLoaderEnhanced.ts:52 [MediaLoaderEnhanced] 🔄 Carregando mídia: 38134787 (image)
useMediaLoaderEnhanced.ts:97 [MediaLoaderEnhanced] 🔍 Buscando media_cache na base de dados: 38134787
useMediaLoaderEnhanced.ts:52 [MediaLoaderEnhanced] 🔄 Carregando mídia: 2212d622 (image)
useMediaLoaderEnhanced.ts:97 [MediaLoaderEnhanced] 🔍 Buscando media_cache na base de dados: 2212d622
useMediaLoaderEnhanced.ts:52 [MediaLoaderEnhanced] 🔄 Carregando mídia: d16f11e9 (image)
useMediaLoaderEnhanced.ts:97 [MediaLoaderEnhanced] 🔍 Buscando media_cache na base de dados: d16f11e9
WhatsAppChatContainer.tsx:7 [WhatsAppChatContainer] 🏗️ Componente renderizado - usando hooks modulares unificados
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f'}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: true, contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, enabled: true}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 20, hasSelectedContact: true, instanceHealthScore: 50}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: true, contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, enabled: true}
WhatsAppChatContainer.tsx:37 [WhatsAppChatContainer] 📊 Dados do hook recebidos: {contactsCount: 20, messagesCount: 20, selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', selectedContactName: null, isLoadingContacts: false, …}
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: undefined}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: false, contactId: undefined, hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: undefined, contactName: undefined, enabled: false}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 0, hasSelectedContact: false, instanceHealthScore: 50}
WhatsAppMessagesList.tsx:54 [WhatsApp MessagesList] 📋 Renderizando lista: {total: 20, isLoading: false, isLoadingMore: true, hasMoreMessages: true}
ContactsList.tsx:60 [ContactsList] Props received: {contactsLength: 20, searchQuery: '', activeFilter: 'all', selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f'}
ContactsList.tsx:141 [ContactsList] Rendering contacts: {contactsLength: 20, searchQuery: '', activeFilter: 'all'}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'eb585127-8db7-4694-810c-dde1d3f53250', contactName: 'Willian Sbicigo', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'a6fb4d47-a54e-4d77-a8b7-aecd26b27667', contactName: 'Samara', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '64293e7a-1b7c-4b25-afd5-0a9afb5edb11', contactName: 'Breno Gostosao', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'cd6e6e73-8860-42ca-9674-67ce5bd2bd2b', contactName: 'Robinson', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '45d1c7fb-d56a-468d-afe0-103cf348079c', contactName: 'Marcello ', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'b6228936-2e70-43e2-a298-b6d02c809af0', contactName: 'Victor Souza', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '8ff2e8f0-ace3-4d89-a6f2-ecaf51bdf366', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'dbb3bc0e-c7d5-48ba-aaeb-94d82763f9f3', contactName: 'Edson Leite', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '08a2ff12-91b5-4cc3-8cbd-92d341906072', contactName: 'Inácio Jr Rua', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '83d00779-967f-4b7b-b509-a396d1df4d4d', contactName: 'Hugo Vargas', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '86eef29f-ec0a-40c2-93dd-470f5d340e05', contactName: 'M', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '91c6b97c-7408-42dd-b34d-bd76cb2be7ca', contactName: 'Jesus Te Amor', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '3d13564b-5e43-4bfa-b964-bb21b3cc0f5a', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '155fea97-bffb-4273-ba61-c7708ab6c382', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '469f6a1b-16c0-4b49-ad23-b58f5bae32d8', contactName: 'Jossolange Araújo', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'd534d414-7149-4d4a-a672-c1e79144da67', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '02852e75-6989-45df-bdac-60d5dd0f9221', contactName: 'Henrique', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'c257a812-7a12-4c45-9105-02795d4c44ec', contactName: '꧁ঔৣ☬✞ Jô Lopes  ✞☬ঔৣ꧂', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '1d92d14b-712a-4722-8a8d-7c7fe4bbfa01', contactName: 'Atemilsom', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: undefined}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: false, contactId: undefined, hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: undefined, contactName: undefined, enabled: false}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 0, hasSelectedContact: false, instanceHealthScore: 50}
StageSelector.tsx:39 [StageSelector] 🔍 Props recebidas: {leadId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', currentStageId: 'f99a613b-805a-489a-95d4-ce9dd916f76c', hasCurrentStage: true, currentStageTitle: 'Em atendimento', currentStageColor: '#8b5cf6', …}
WhatsAppMessagesList.tsx:54 [WhatsApp MessagesList] 📋 Renderizando lista: {total: 20, isLoading: false, isLoadingMore: true, hasMoreMessages: true}
logger.ts:53 [Realtime] 🧹 Limpando listeners de tags
logger.ts:53 [Realtime] 🔄 Configurando listeners de tags para userId: 9936ae64-b78c-48fe-97e8-bf67623349c6
useMessagesRealtime.ts:293 [Messages Realtime] 📡 Status conexão ISOLADA: SUBSCRIBED
useMessagesRealtime.ts:299 [Messages Realtime] ✅ Conexão ISOLADA estabelecida
WhatsAppChatContainer.tsx:7 [WhatsAppChatContainer] 🏗️ Componente renderizado - usando hooks modulares unificados
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f'}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: true, contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, enabled: true}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 20, hasSelectedContact: true, instanceHealthScore: 50}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: true, contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, enabled: true}
WhatsAppChatContainer.tsx:37 [WhatsAppChatContainer] 📊 Dados do hook recebidos: {contactsCount: 20, messagesCount: 20, selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', selectedContactName: null, isLoadingContacts: false, …}
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: undefined}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: false, contactId: undefined, hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: undefined, contactName: undefined, enabled: false}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 0, hasSelectedContact: false, instanceHealthScore: 50}
WhatsAppMessagesList.tsx:54 [WhatsApp MessagesList] 📋 Renderizando lista: {total: 20, isLoading: false, isLoadingMore: true, hasMoreMessages: true}
ContactsList.tsx:60 [ContactsList] Props received: {contactsLength: 20, searchQuery: '', activeFilter: 'all', selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f'}
ContactsList.tsx:141 [ContactsList] Rendering contacts: {contactsLength: 20, searchQuery: '', activeFilter: 'all'}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'eb585127-8db7-4694-810c-dde1d3f53250', contactName: 'Willian Sbicigo', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'a6fb4d47-a54e-4d77-a8b7-aecd26b27667', contactName: 'Samara', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '64293e7a-1b7c-4b25-afd5-0a9afb5edb11', contactName: 'Breno Gostosao', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'cd6e6e73-8860-42ca-9674-67ce5bd2bd2b', contactName: 'Robinson', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '45d1c7fb-d56a-468d-afe0-103cf348079c', contactName: 'Marcello ', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'b6228936-2e70-43e2-a298-b6d02c809af0', contactName: 'Victor Souza', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '8ff2e8f0-ace3-4d89-a6f2-ecaf51bdf366', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'dbb3bc0e-c7d5-48ba-aaeb-94d82763f9f3', contactName: 'Edson Leite', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '08a2ff12-91b5-4cc3-8cbd-92d341906072', contactName: 'Inácio Jr Rua', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '83d00779-967f-4b7b-b509-a396d1df4d4d', contactName: 'Hugo Vargas', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '86eef29f-ec0a-40c2-93dd-470f5d340e05', contactName: 'M', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '91c6b97c-7408-42dd-b34d-bd76cb2be7ca', contactName: 'Jesus Te Amor', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '3d13564b-5e43-4bfa-b964-bb21b3cc0f5a', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '155fea97-bffb-4273-ba61-c7708ab6c382', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '469f6a1b-16c0-4b49-ad23-b58f5bae32d8', contactName: 'Jossolange Araújo', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'd534d414-7149-4d4a-a672-c1e79144da67', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '02852e75-6989-45df-bdac-60d5dd0f9221', contactName: 'Henrique', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'c257a812-7a12-4c45-9105-02795d4c44ec', contactName: '꧁ঔৣ☬✞ Jô Lopes  ✞☬ঔৣ꧂', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '1d92d14b-712a-4722-8a8d-7c7fe4bbfa01', contactName: 'Atemilsom', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: undefined}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: false, contactId: undefined, hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: undefined, contactName: undefined, enabled: false}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 0, hasSelectedContact: false, instanceHealthScore: 50}
StageSelector.tsx:39 [StageSelector] 🔍 Props recebidas: {leadId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', currentStageId: 'f99a613b-805a-489a-95d4-ce9dd916f76c', hasCurrentStage: true, currentStageTitle: 'Em atendimento', currentStageColor: '#8b5cf6', …}
WhatsAppMessagesList.tsx:54 [WhatsApp MessagesList] 📋 Renderizando lista: {total: 20, isLoading: false, isLoadingMore: true, hasMoreMessages: true}
useMessagesRealtime.ts:293 [Messages Realtime] 📡 Status conexão ISOLADA: SUBSCRIBED
useMessagesRealtime.ts:299 [Messages Realtime] ✅ Conexão ISOLADA estabelecida
logger.ts:53 [Realtime] 🧹 Limpando listeners de tags
logger.ts:53 [Realtime] 🔄 Configurando listeners de tags para userId: 9936ae64-b78c-48fe-97e8-bf67623349c6
WhatsAppChatContainer.tsx:7 [WhatsAppChatContainer] 🏗️ Componente renderizado - usando hooks modulares unificados
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f'}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: true, contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, enabled: true}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 20, hasSelectedContact: true, instanceHealthScore: 50}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: true, contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, enabled: true}
WhatsAppChatContainer.tsx:37 [WhatsAppChatContainer] 📊 Dados do hook recebidos: {contactsCount: 20, messagesCount: 20, selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', selectedContactName: null, isLoadingContacts: false, …}
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: undefined}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: false, contactId: undefined, hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: undefined, contactName: undefined, enabled: false}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 0, hasSelectedContact: false, instanceHealthScore: 50}
WhatsAppMessagesList.tsx:54 [WhatsApp MessagesList] 📋 Renderizando lista: {total: 20, isLoading: false, isLoadingMore: true, hasMoreMessages: true}
ContactsList.tsx:60 [ContactsList] Props received: {contactsLength: 20, searchQuery: '', activeFilter: 'all', selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f'}
ContactsList.tsx:141 [ContactsList] Rendering contacts: {contactsLength: 20, searchQuery: '', activeFilter: 'all'}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'eb585127-8db7-4694-810c-dde1d3f53250', contactName: 'Willian Sbicigo', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'a6fb4d47-a54e-4d77-a8b7-aecd26b27667', contactName: 'Samara', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '64293e7a-1b7c-4b25-afd5-0a9afb5edb11', contactName: 'Breno Gostosao', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'cd6e6e73-8860-42ca-9674-67ce5bd2bd2b', contactName: 'Robinson', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '45d1c7fb-d56a-468d-afe0-103cf348079c', contactName: 'Marcello ', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'b6228936-2e70-43e2-a298-b6d02c809af0', contactName: 'Victor Souza', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '8ff2e8f0-ace3-4d89-a6f2-ecaf51bdf366', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'dbb3bc0e-c7d5-48ba-aaeb-94d82763f9f3', contactName: 'Edson Leite', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '08a2ff12-91b5-4cc3-8cbd-92d341906072', contactName: 'Inácio Jr Rua', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '83d00779-967f-4b7b-b509-a396d1df4d4d', contactName: 'Hugo Vargas', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '86eef29f-ec0a-40c2-93dd-470f5d340e05', contactName: 'M', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '91c6b97c-7408-42dd-b34d-bd76cb2be7ca', contactName: 'Jesus Te Amor', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '3d13564b-5e43-4bfa-b964-bb21b3cc0f5a', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '155fea97-bffb-4273-ba61-c7708ab6c382', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '469f6a1b-16c0-4b49-ad23-b58f5bae32d8', contactName: 'Jossolange Araújo', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'd534d414-7149-4d4a-a672-c1e79144da67', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '02852e75-6989-45df-bdac-60d5dd0f9221', contactName: 'Henrique', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'c257a812-7a12-4c45-9105-02795d4c44ec', contactName: '꧁ঔৣ☬✞ Jô Lopes  ✞☬ঔৣ꧂', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '1d92d14b-712a-4722-8a8d-7c7fe4bbfa01', contactName: 'Atemilsom', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: undefined}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: false, contactId: undefined, hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: undefined, contactName: undefined, enabled: false}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 0, hasSelectedContact: false, instanceHealthScore: 50}
StageSelector.tsx:39 [StageSelector] 🔍 Props recebidas: {leadId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', currentStageId: 'f99a613b-805a-489a-95d4-ce9dd916f76c', hasCurrentStage: true, currentStageTitle: 'Em atendimento', currentStageColor: '#8b5cf6', …}
WhatsAppMessagesList.tsx:54 [WhatsApp MessagesList] 📋 Renderizando lista: {total: 20, isLoading: false, isLoadingMore: true, hasMoreMessages: true}
useLeadTags.ts:63 [useLeadTags] ✅ Tags carregadas: {leadTags: 0, availableTags: 3, leadId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', userId: '9936ae64-b78c-48fe-97e8-bf67623349c6'}
logger.ts:53 [Realtime] 🧹 Limpando listeners de tags
logger.ts:53 [Realtime] 🔄 Configurando listeners de tags para userId: 9936ae64-b78c-48fe-97e8-bf67623349c6
StageSelector.tsx:39 [StageSelector] 🔍 Props recebidas: {leadId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', currentStageId: 'f99a613b-805a-489a-95d4-ce9dd916f76c', hasCurrentStage: true, currentStageTitle: 'Em atendimento', currentStageColor: '#8b5cf6', …}
useMediaLoaderEnhanced.ts:154 [MediaLoaderEnhanced] ❌ Mídia não encontrada: a46043d1
useMediaLoaderEnhanced.ts:154 [MediaLoaderEnhanced] ❌ Mídia não encontrada: 7f7132a1
useMediaLoaderEnhanced.ts:154 [MediaLoaderEnhanced] ❌ Mídia não encontrada: 1ca2531b
useMediaLoaderEnhanced.ts:154 [MediaLoaderEnhanced] ❌ Mídia não encontrada: 57984ff4
useMediaLoaderEnhanced.ts:154 [MediaLoaderEnhanced] ❌ Mídia não encontrada: 38134787
useMediaLoaderEnhanced.ts:154 [MediaLoaderEnhanced] ❌ Mídia não encontrada: 2212d622
useMediaLoaderEnhanced.ts:154 [MediaLoaderEnhanced] ❌ Mídia não encontrada: a46043d1
useMediaLoaderEnhanced.ts:154 [MediaLoaderEnhanced] ❌ Mídia não encontrada: d16f11e9
useMediaLoaderEnhanced.ts:154 [MediaLoaderEnhanced] ❌ Mídia não encontrada: 1ca2531b
useMediaLoaderEnhanced.ts:154 [MediaLoaderEnhanced] ❌ Mídia não encontrada: 7f7132a1
useMediaLoaderEnhanced.ts:154 [MediaLoaderEnhanced] ❌ Mídia não encontrada: 57984ff4
useMediaLoaderEnhanced.ts:154 [MediaLoaderEnhanced] ❌ Mídia não encontrada: 38134787
useMediaLoaderEnhanced.ts:154 [MediaLoaderEnhanced] ❌ Mídia não encontrada: 2212d622
useLeadTags.ts:63 [useLeadTags] ✅ Tags carregadas: {leadTags: 0, availableTags: 3, leadId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', userId: '9936ae64-b78c-48fe-97e8-bf67623349c6'}
StageSelector.tsx:39 [StageSelector] 🔍 Props recebidas: {leadId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', currentStageId: 'f99a613b-805a-489a-95d4-ce9dd916f76c', hasCurrentStage: true, currentStageTitle: 'Em atendimento', currentStageColor: '#8b5cf6', …}
WhatsAppChatContainer.tsx:7 [WhatsAppChatContainer] 🏗️ Componente renderizado - usando hooks modulares unificados
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f'}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: true, contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, enabled: true}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 40, hasSelectedContact: true, instanceHealthScore: 50}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: true, contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, enabled: true}
WhatsAppChatContainer.tsx:37 [WhatsAppChatContainer] 📊 Dados do hook recebidos: {contactsCount: 20, messagesCount: 40, selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', selectedContactName: null, isLoadingContacts: false, …}
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: undefined}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: false, contactId: undefined, hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: undefined, contactName: undefined, enabled: false}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 0, hasSelectedContact: false, instanceHealthScore: 50}
WhatsAppMessagesList.tsx:54 [WhatsApp MessagesList] 📋 Renderizando lista: {total: 40, isLoading: false, isLoadingMore: false, hasMoreMessages: true}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 4b2cdea3 {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '4b2cdea3', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 4a23125d {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '4a23125d', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 1b23f549 {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '1b23f549', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 569153d5 {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '569153d5', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: db71cd0c {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: 'db71cd0c', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 73e7a73e {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '73e7a73e', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: ed89a74c {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: 'ed89a74c', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: c2617c18 {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: 'c2617c18', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 1c74078e {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '1c74078e', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 704fd836 {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '704fd836', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 01f424d3 {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '01f424d3', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
ContactsList.tsx:60 [ContactsList] Props received: {contactsLength: 20, searchQuery: '', activeFilter: 'all', selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f'}
ContactsList.tsx:141 [ContactsList] Rendering contacts: {contactsLength: 20, searchQuery: '', activeFilter: 'all'}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'eb585127-8db7-4694-810c-dde1d3f53250', contactName: 'Willian Sbicigo', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'a6fb4d47-a54e-4d77-a8b7-aecd26b27667', contactName: 'Samara', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '64293e7a-1b7c-4b25-afd5-0a9afb5edb11', contactName: 'Breno Gostosao', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'cd6e6e73-8860-42ca-9674-67ce5bd2bd2b', contactName: 'Robinson', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '45d1c7fb-d56a-468d-afe0-103cf348079c', contactName: 'Marcello ', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'b6228936-2e70-43e2-a298-b6d02c809af0', contactName: 'Victor Souza', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '8ff2e8f0-ace3-4d89-a6f2-ecaf51bdf366', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'dbb3bc0e-c7d5-48ba-aaeb-94d82763f9f3', contactName: 'Edson Leite', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '08a2ff12-91b5-4cc3-8cbd-92d341906072', contactName: 'Inácio Jr Rua', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '83d00779-967f-4b7b-b509-a396d1df4d4d', contactName: 'Hugo Vargas', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '86eef29f-ec0a-40c2-93dd-470f5d340e05', contactName: 'M', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '91c6b97c-7408-42dd-b34d-bd76cb2be7ca', contactName: 'Jesus Te Amor', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '3d13564b-5e43-4bfa-b964-bb21b3cc0f5a', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '155fea97-bffb-4273-ba61-c7708ab6c382', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '469f6a1b-16c0-4b49-ad23-b58f5bae32d8', contactName: 'Jossolange Araújo', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'd534d414-7149-4d4a-a672-c1e79144da67', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '02852e75-6989-45df-bdac-60d5dd0f9221', contactName: 'Henrique', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'c257a812-7a12-4c45-9105-02795d4c44ec', contactName: '꧁ঔৣ☬✞ Jô Lopes  ✞☬ঔৣ꧂', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '1d92d14b-712a-4722-8a8d-7c7fe4bbfa01', contactName: 'Atemilsom', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: undefined}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: false, contactId: undefined, hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: undefined, contactName: undefined, enabled: false}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 0, hasSelectedContact: false, instanceHealthScore: 50}
StageSelector.tsx:39 [StageSelector] 🔍 Props recebidas: {leadId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', currentStageId: 'f99a613b-805a-489a-95d4-ce9dd916f76c', hasCurrentStage: true, currentStageTitle: 'Em atendimento', currentStageColor: '#8b5cf6', …}
WhatsAppMessagesList.tsx:54 [WhatsApp MessagesList] 📋 Renderizando lista: {total: 40, isLoading: false, isLoadingMore: false, hasMoreMessages: true}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 4b2cdea3 {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '4b2cdea3', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 4a23125d {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '4a23125d', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 1b23f549 {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '1b23f549', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 569153d5 {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '569153d5', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: db71cd0c {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: 'db71cd0c', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 73e7a73e {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '73e7a73e', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: ed89a74c {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: 'ed89a74c', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: c2617c18 {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: 'c2617c18', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 1c74078e {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '1c74078e', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 704fd836 {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '704fd836', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
MessageMediaDirect.tsx:30 [MessageMediaDirect] 🚀 Renderizando mídia diretamente: 01f424d3 {mediaType: 'document', urlType: 'storage', urlPreview: 'https://rhjgagzstjzynvrakdyj.supabase.co/storage/v...'}
DocumentViewer.tsx:133 DocumentViewer Debug: {messageId: '01f424d3', filename: 'Documento', cleanFilename: 'Documento.pdf', canView: true, extension: 'pdf', …}
2WhatsAppMessagesList.tsx:84 [WhatsApp MessagesList] ⚡ PRE-POSITIONED: Posicionando antes do paint
logger.ts:53 [Realtime] 🧹 Limpando listeners de tags
logger.ts:53 [Realtime] 🔄 Configurando listeners de tags para userId: 9936ae64-b78c-48fe-97e8-bf67623349c6
WhatsAppChatContainer.tsx:7 [WhatsAppChatContainer] 🏗️ Componente renderizado - usando hooks modulares unificados
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f'}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: true, contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, enabled: true}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 40, hasSelectedContact: true, instanceHealthScore: 50}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: true, contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, enabled: true}
WhatsAppChatContainer.tsx:37 [WhatsAppChatContainer] 📊 Dados do hook recebidos: {contactsCount: 20, messagesCount: 40, selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', selectedContactName: null, isLoadingContacts: false, …}
useScrollDetection.ts:116 [useScrollDetection] 📊 Calculando nova posição: {oldHeight: 0, newHeight: 0, addedHeight: 0, oldScrollTop: 0}
useScrollDetection.ts:158 [useScrollDetection] 📏 Restaurando via altura: {newPosition: 0, currentScrollTop: 0, addedHeight: 0}
useScrollDetection.ts:167 [useScrollDetection] ✅ Posição restaurada: {finalScrollTop: 0}
useMediaLoaderEnhanced.ts:154 [MediaLoaderEnhanced] ❌ Mídia não encontrada: d16f11e9
useContactsRealtime.ts:127 [Contacts Realtime] 📨 Evento de contato ISOLADO: {event: 'INSERT', leadId: '7e9a6f72-d80e-44ed-897a-f7f3638db5ed'}
useWhatsAppContactsManager.ts:73 [WhatsApp Contacts Manager] 🔥 Contato atualizado via WebSocket
useWhatsAppContactsManager.ts:124 [WhatsApp Contacts Manager] 📞 Carregando contatos: {instanceId: 'e5a73878-09f5-40ed-b908-f4ffb44e1a58', page: 0, filterType: 'all'}
useContactsRealtime.ts:127 [Contacts Realtime] 📨 Evento de contato ISOLADO: {event: 'INSERT', leadId: '7e9a6f72-d80e-44ed-897a-f7f3638db5ed'}
useWhatsAppContactsManager.ts:73 [WhatsApp Contacts Manager] 🔥 Contato atualizado via WebSocket
useWhatsAppContactsManager.ts:124 [WhatsApp Contacts Manager] 📞 Carregando contatos: {instanceId: 'e5a73878-09f5-40ed-b908-f4ffb44e1a58', page: 0, filterType: 'all'}
useContactsRealtime.ts:127 [Contacts Realtime] 📨 Evento de contato ISOLADO: {event: 'INSERT', leadId: '7e9a6f72-d80e-44ed-897a-f7f3638db5ed'}
useWhatsAppContactsManager.ts:73 [WhatsApp Contacts Manager] 🔥 Contato atualizado via WebSocket
useWhatsAppContactsManager.ts:124 [WhatsApp Contacts Manager] 📞 Carregando contatos: {instanceId: 'e5a73878-09f5-40ed-b908-f4ffb44e1a58', page: 0, filterType: 'all'}
useMessagesRealtime.ts:226 [Messages Realtime] 📨 INSERT mensagem (ISOLADO): {messageId: 'f755dfd5-fc95-4723-a440-73ecc85dce9f', fromMe: false, leadId: '7e9a6f72-d80e-44ed-897a-f7f3638db5ed', text: 'Olá! 👋 Vi o anúncio da Soluci...'}
useMessagesRealtime.ts:131 [Messages Realtime] 🔍 Avaliando mensagem ISOLADA: {messageId: 'f755dfd5-fc95-4723-a440-73ecc85dce9f', leadId: '7e9a6f72-d80e-44ed-897a-f7f3638db5ed', selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', createdByUserId: '9936ae64-b78c-48fe-97e8-bf67623349c6', currentUserId: '9936ae64-b78c-48fe-97e8-bf67623349c6', …}
useMessagesRealtime.ts:149 [Messages Realtime] ❌ Lead ID não corresponde (ISOLADO)
useMessagesRealtime.ts:226 [Messages Realtime] 📨 INSERT mensagem (ISOLADO): {messageId: 'f755dfd5-fc95-4723-a440-73ecc85dce9f', fromMe: false, leadId: '7e9a6f72-d80e-44ed-897a-f7f3638db5ed', text: 'Olá! 👋 Vi o anúncio da Soluci...'}
useMessagesRealtime.ts:131 [Messages Realtime] 🔍 Avaliando mensagem ISOLADA: {messageId: 'f755dfd5-fc95-4723-a440-73ecc85dce9f', leadId: '7e9a6f72-d80e-44ed-897a-f7f3638db5ed', selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', createdByUserId: '9936ae64-b78c-48fe-97e8-bf67623349c6', currentUserId: '9936ae64-b78c-48fe-97e8-bf67623349c6', …}
useMessagesRealtime.ts:149 [Messages Realtime] ❌ Lead ID não corresponde (ISOLADO)
WhatsAppChatContainer.tsx:7 [WhatsAppChatContainer] 🏗️ Componente renderizado - usando hooks modulares unificados
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f'}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: true, contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, enabled: true}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 40, hasSelectedContact: true, instanceHealthScore: 50}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: true, contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, enabled: true}
WhatsAppChatContainer.tsx:37 [WhatsAppChatContainer] 📊 Dados do hook recebidos: {contactsCount: 20, messagesCount: 40, selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', selectedContactName: null, isLoadingContacts: false, …}
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: undefined}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: false, contactId: undefined, hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: undefined, contactName: undefined, enabled: false}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 0, hasSelectedContact: false, instanceHealthScore: 50}
WhatsAppMessagesList.tsx:54 [WhatsApp MessagesList] 📋 Renderizando lista: {total: 40, isLoading: false, isLoadingMore: false, hasMoreMessages: true}
ContactsList.tsx:60 [ContactsList] Props received: {contactsLength: 20, searchQuery: '', activeFilter: 'all', selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f'}
ContactsList.tsx:141 [ContactsList] Rendering contacts: {contactsLength: 20, searchQuery: '', activeFilter: 'all'}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'eb585127-8db7-4694-810c-dde1d3f53250', contactName: 'Willian Sbicigo', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'a6fb4d47-a54e-4d77-a8b7-aecd26b27667', contactName: 'Samara', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '64293e7a-1b7c-4b25-afd5-0a9afb5edb11', contactName: 'Breno Gostosao', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'cd6e6e73-8860-42ca-9674-67ce5bd2bd2b', contactName: 'Robinson', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '45d1c7fb-d56a-468d-afe0-103cf348079c', contactName: 'Marcello ', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'b6228936-2e70-43e2-a298-b6d02c809af0', contactName: 'Victor Souza', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '8ff2e8f0-ace3-4d89-a6f2-ecaf51bdf366', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'dbb3bc0e-c7d5-48ba-aaeb-94d82763f9f3', contactName: 'Edson Leite', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '08a2ff12-91b5-4cc3-8cbd-92d341906072', contactName: 'Inácio Jr Rua', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '83d00779-967f-4b7b-b509-a396d1df4d4d', contactName: 'Hugo Vargas', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '86eef29f-ec0a-40c2-93dd-470f5d340e05', contactName: 'M', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '91c6b97c-7408-42dd-b34d-bd76cb2be7ca', contactName: 'Jesus Te Amor', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '3d13564b-5e43-4bfa-b964-bb21b3cc0f5a', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '155fea97-bffb-4273-ba61-c7708ab6c382', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '469f6a1b-16c0-4b49-ad23-b58f5bae32d8', contactName: 'Jossolange Araújo', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'd534d414-7149-4d4a-a672-c1e79144da67', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '02852e75-6989-45df-bdac-60d5dd0f9221', contactName: 'Henrique', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'c257a812-7a12-4c45-9105-02795d4c44ec', contactName: '꧁ঔৣ☬✞ Jô Lopes  ✞☬ঔৣ꧂', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '1d92d14b-712a-4722-8a8d-7c7fe4bbfa01', contactName: 'Atemilsom', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: undefined}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: false, contactId: undefined, hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: undefined, contactName: undefined, enabled: false}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 0, hasSelectedContact: false, instanceHealthScore: 50}
StageSelector.tsx:39 [StageSelector] 🔍 Props recebidas: {leadId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', currentStageId: 'f99a613b-805a-489a-95d4-ce9dd916f76c', hasCurrentStage: true, currentStageTitle: 'Em atendimento', currentStageColor: '#8b5cf6', …}
WhatsAppMessagesList.tsx:54 [WhatsApp MessagesList] 📋 Renderizando lista: {total: 40, isLoading: false, isLoadingMore: false, hasMoreMessages: true}
logger.ts:53 [Realtime] 🧹 Limpando listeners de tags
logger.ts:53 [Realtime] 🔄 Configurando listeners de tags para userId: 9936ae64-b78c-48fe-97e8-bf67623349c6
useWhatsAppContactsManager.ts:141 [WhatsApp Contacts Manager] 👤 Role do usuário: admin
useWhatsAppContactsManager.ts:175 [WhatsApp Contacts Manager] 🔑 Aplicando filtro ADMIN
useWhatsAppContactsManager.ts:202 [WhatsApp Contacts Manager] 📱 Filtro por instância específica aplicado: e5a73878-09f5-40ed-b908-f4ffb44e1a58
useWhatsAppContactsManager.ts:141 [WhatsApp Contacts Manager] 👤 Role do usuário: admin
useWhatsAppContactsManager.ts:175 [WhatsApp Contacts Manager] 🔑 Aplicando filtro ADMIN
useWhatsAppContactsManager.ts:202 [WhatsApp Contacts Manager] 📱 Filtro por instância específica aplicado: e5a73878-09f5-40ed-b908-f4ffb44e1a58
useWhatsAppContactsManager.ts:141 [WhatsApp Contacts Manager] 👤 Role do usuário: admin
useWhatsAppContactsManager.ts:175 [WhatsApp Contacts Manager] 🔑 Aplicando filtro ADMIN
useWhatsAppContactsManager.ts:202 [WhatsApp Contacts Manager] 📱 Filtro por instância específica aplicado: e5a73878-09f5-40ed-b908-f4ffb44e1a58
3useContactsRealtime.ts:74 [Contacts Realtime] 🔄 Invalidando contatos (ISOLADO)
WhatsAppChatContainer.tsx:7 [WhatsAppChatContainer] 🏗️ Componente renderizado - usando hooks modulares unificados
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f'}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: true, contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, enabled: true}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 40, hasSelectedContact: true, instanceHealthScore: 50}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: true, contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, enabled: true}
WhatsAppChatContainer.tsx:37 [WhatsAppChatContainer] 📊 Dados do hook recebidos: {contactsCount: 20, messagesCount: 40, selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', selectedContactName: null, isLoadingContacts: false, …}
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: undefined}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: false, contactId: undefined, hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: undefined, contactName: undefined, enabled: false}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 0, hasSelectedContact: false, instanceHealthScore: 50}
WhatsAppMessagesList.tsx:54 [WhatsApp MessagesList] 📋 Renderizando lista: {total: 40, isLoading: false, isLoadingMore: false, hasMoreMessages: true}
WhatsAppContactsList.tsx:119 [WhatsAppContactsList] 📊 Contatos recebidos: {total: 20, hasSearch: false, searchQuery: '', contactsLength: 20}
WhatsAppContactsList.tsx:130 [WhatsAppContactsList] Filtering contacts: {totalContacts: 20, activeFilter: 'all', searchQuery: ''}
ContactsList.tsx:60 [ContactsList] Props received: {contactsLength: 20, searchQuery: '', activeFilter: 'all', selectedContactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f'}
ContactsList.tsx:141 [ContactsList] Rendering contacts: {contactsLength: 20, searchQuery: '', activeFilter: 'all'}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '7e9a6f72-d80e-44ed-897a-f7f3638db5ed', contactName: '+55 (41) 9943-6116', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'eb585127-8db7-4694-810c-dde1d3f53250', contactName: 'Willian Sbicigo', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'a6fb4d47-a54e-4d77-a8b7-aecd26b27667', contactName: 'Samara', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '64293e7a-1b7c-4b25-afd5-0a9afb5edb11', contactName: 'Breno Gostosao', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'cd6e6e73-8860-42ca-9674-67ce5bd2bd2b', contactName: 'Robinson', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '45d1c7fb-d56a-468d-afe0-103cf348079c', contactName: 'Marcello ', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'b6228936-2e70-43e2-a298-b6d02c809af0', contactName: 'Victor Souza', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '8ff2e8f0-ace3-4d89-a6f2-ecaf51bdf366', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'dbb3bc0e-c7d5-48ba-aaeb-94d82763f9f3', contactName: 'Edson Leite', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '08a2ff12-91b5-4cc3-8cbd-92d341906072', contactName: 'Inácio Jr Rua', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '83d00779-967f-4b7b-b509-a396d1df4d4d', contactName: 'Hugo Vargas', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '86eef29f-ec0a-40c2-93dd-470f5d340e05', contactName: 'M', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '91c6b97c-7408-42dd-b34d-bd76cb2be7ca', contactName: 'Jesus Te Amor', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '3d13564b-5e43-4bfa-b964-bb21b3cc0f5a', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '155fea97-bffb-4273-ba61-c7708ab6c382', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '469f6a1b-16c0-4b49-ad23-b58f5bae32d8', contactName: 'Jossolange Araújo', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'd534d414-7149-4d4a-a672-c1e79144da67', contactName: null, hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: '02852e75-6989-45df-bdac-60d5dd0f9221', contactName: 'Henrique', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
ContactContextMenu.tsx:44 [ContactContextMenu] Props received: {contactId: 'c257a812-7a12-4c45-9105-02795d4c44ec', contactName: '꧁ঔৣ☬✞ Jô Lopes  ✞☬ঔৣ꧂', hasDeleteFunction: true, hasCloseFunction: true, hasEditFunction: true}
useWhatsAppChatUnified.ts:70 [WhatsApp Chat Unified] 🚀 Hook principal unificado inicializado
useWhatsAppChatUnified.ts:84 [WhatsApp Chat Unified] 🎯 Parâmetros: {userId: '9936ae64-b78c-48fe-97e8-bf67623349c6', leadId: null, phoneParam: null, selectedContactId: undefined}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useWhatsAppContactsManager.ts:59 [WhatsApp Contacts Manager] 🎯 Hook inicializado {hasInstance: true, enableSearch: true, enableInfiniteScroll: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useContactsRealtime.ts:43 [Contacts Realtime] 🚀 Hook ISOLADO para contatos inicializado: {hasActiveInstance: true, enabled: true}
useWhatsAppMessagesManager.ts:53 [WhatsApp Messages Manager] 🎯 Hook inicializado {hasContact: false, contactId: undefined, hasInstance: true}
useWhatsAppChatCoordinator.ts:30 [WhatsApp Chat Coordinator] 🎯 Hook coordenador inicializado
useMessagesRealtime.ts:81 [Messages Realtime] 🚀 Hook ISOLADO para mensagens inicializado: {contactId: undefined, contactName: undefined, enabled: false}
useWhatsAppChatUnified.ts:311 [WhatsApp Chat Unified] 📊 Status atual: {contactsCount: 20, messagesCount: 0, hasSelectedContact: false, instanceHealthScore: 50}
StageSelector.tsx:39 [StageSelector] 🔍 Props recebidas: {leadId: 'ce9a23cb-9481-4dcd-ada6-f85c9553444f', currentStageId: 'f99a613b-805a-489a-95d4-ce9dd916f76c', hasCurrentStage: true, currentStageTitle: 'Em atendimento', currentStageColor: '#8b5cf6', …}
WhatsAppMessagesList.tsx:54 [WhatsApp MessagesList] 📋 Renderizando lista: {total: 40, isLoading: false, isLoadingMore: false, hasMoreMessages: true}
logger.ts:53 [Realtime] 🧹 Limpando listeners de tags
logger.ts:53 [Realtime] 🔄 Configurando listeners de tags para userId: 9936ae64-b78c-48fe-97e8-bf67623349c6