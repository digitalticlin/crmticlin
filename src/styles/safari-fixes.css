/* Safari & WebKit Specific Fixes - Otimizações de Rendering */

/* IMPORTANTE: Apenas otimizações de performance, SEM alterar backdrop-filter */
/* O Tailwind CSS controla os valores de blur naturalmente */

/* === RENDERING OPTIMIZATION PARA BACKDROP-BLUR === */
/* Força GPU acceleration para melhor performance no Safari */
body.macos-system [class*="backdrop-blur"],
body.safari-browser [class*="backdrop-blur"],
body.webkit-browser.macos-system [class*="backdrop-blur"],
body.ios-system [class*="backdrop-blur"] {
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
  will-change: transform;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* === MODAIS FIXES - POSICIONAMENTO CORRETO === */

/* Fix crítico: Modais centralizados (NÃO full screen) */
body.macos-system .fixed.left-\[50\%\].top-\[50\%\],
body.safari-browser .fixed.left-\[50\%\].top-\[50\%\],
body.macos-backdrop-issues .fixed.left-\[50\%\].top-\[50\%\],
body.safari-modal-issues .fixed.left-\[50\%\].top-\[50\%\] {
  transform: translate(-50%, -50%) translateZ(0) !important;
  -webkit-transform: translate(-50%, -50%) translateZ(0) !important;
  will-change: transform;
  z-index: 9999 !important;
}

/* Fix específico para DialogContent do Radix UI */
body.macos-system [data-radix-dialog-content],
body.safari-browser [data-radix-dialog-content],
body.macos-backdrop-issues [data-radix-dialog-content] {
  transform: translate(-50%, -50%) translateZ(0) !important;
  -webkit-transform: translate(-50%, -50%) translateZ(0) !important;
  will-change: transform;
  position: fixed !important;
  left: 50% !important;
  top: 50% !important;
  z-index: 9999 !important;
}

/* Fix para overlay de modais */
body.macos-system [data-radix-dialog-overlay],
body.safari-browser [data-radix-dialog-overlay],
body.macos-backdrop-issues [data-radix-dialog-overlay] {
  position: fixed !important;
  inset: 0 !important;
  z-index: 9998 !important;
}

/* === GLASSMORPHISM SHADOWS (opcional, para visual extra) === */
body.macos-system .shadow-glass,
body.safari-browser .shadow-glass,
body.webkit-browser.macos-system .shadow-glass {
  box-shadow:
    0 8px 24px rgba(0, 0, 0, 0.08),
    0 0 0 1px rgba(255, 255, 255, 0.8),
    inset 0 1px 0 rgba(255, 255, 255, 0.9);
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  will-change: transform;
}

body.macos-system .shadow-glass-lg,
body.safari-browser .shadow-glass-lg,
body.webkit-browser.macos-system .shadow-glass-lg {
  box-shadow:
    0 12px 32px rgba(0, 0, 0, 0.1),
    0 0 0 1px rgba(255, 255, 255, 0.85),
    inset 0 1px 0 rgba(255, 255, 255, 0.95);
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  will-change: transform;
}
